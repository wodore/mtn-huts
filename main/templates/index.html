{% extends "base.html" %}
{% block style %}
    .bd-placeholder-img {
      font-size: 1.125rem;
      text-anchor: middle;
      -webkit-user-select: none;
      -moz-user-select: none;
      -ms-user-select: none;
      user-select: none;
    }

    @media (min-width: 768px) {
      .bd-placeholder-img-lg {
        font-size: 3.5rem;
      }
    }
{% endblock %}

{% block body %}
<body  class="text-center">

<div id="language-nav">
    <span class="text-muted">
        <a href="/de" class="text-info" id="lang-select-de">DE</a> &sdot;
        <a href="/fr" class="text-info" id="lang-select-fr">FR</a> &sdot;
        <a href="/it" class="text-info" id="lang-select-it">IT</a> &sdot;
        <a href="/en" class="text-info" id="lang-select-en">EN</a>
    </span>
</div>

<form class="form-date"  action="map" method="get">
  <img class="mb-1" src="/static/header_img.png" alt="" height="75px" style="margin-bottom: 25px !important;">
  <!-- <h1 class="h4 mb-2 font-weight-normal">Select Date</h1> -->
  <!--
  <p class="mt-3 mb-2 text-muted">

  <small>
  {% if lang == "de" %}
   Es dauert <b>ein paar Minuten</b> bis die Resultate auf der Karte erscheinen.
    {% elif lang == "fr" %}
   Il faut <b>quelques minutes</b> pour voir les résultats sur la carte.
   {% elif lang == "it" %}
   Ci vogliono alcuni minuti per vedere i risultati sulla mappa.
  {% else %}
  It takes <b>a few minutes</b> until you see the results on the map.
  {% endif %}
  </small>

  </p>
  -->
  <br>

  <div class="card text-center card-date mx-auto shadow">
      <div class="card-body  text-center">
          <div class="input-group justify-content-center">
          <!--
          <label for="date" class="sr-only">Date</label>
              <input type="text" id="date-picker" class="form-control" value="{{date}}" required name="date">
              <div class="input-group-append">
                  <button class="btn btn-warning" style="border-radius: 0;" type="submit">go to map</button>
              </div>
            -->
              <div class="mb-4  text-center" id="date-picker-div" data-date="{{date}}"></div>
              <input type="hidden" id="form-date" name="date">
              <input type="hidden" id="form-lang" name="lang" value="{{lang}}">
              <button class="btn btn-warning btn-block" type="submit"><b>OK</b></button>
              <small style="margin-top:10px;">


  <!-- Button trigger modal -->
  <button type="button" class="text-info btn btn-link btn-sm" data-toggle="modal" data-target="#legendModal">
              {% if lang == "de" %}
                Legende
              {% elif lang == "fr" %}
               Légende
              {% elif lang == "it" %}
               Legenda
              {% else %}
               Legend
              {% endif %}
  </button><b class="text-muted"> | </b>

                  <a class="text-info btn btn-link btn-sm" href="/map?lang={{lang}}&date=0">

              {% if lang == "de" %}
                nur Hütten anzeigen
              {% elif lang == "fr" %}
               afficher uniquement les cabines
              {% elif lang == "it" %}
               mostra solo capanne
              {% else %}
               show only huts
              {% endif %}
              </a>
          </div>
      </div>
  </div>

  <!--<p class="mt-5 mb-3 text-muted">&copy; 2020</p>-->
</form>


<!-- Modal -->
<div class="modal fade" id="legendModal" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
    <div class="modal-dialog" role="document">
        {% include 'legend.html' %}
    </div>
</div>


 <script>
 $('#date-picker-div').datepicker({
    format: "yyyy-mm-dd",
    weekStart: 1,
    daysOfWeekHighlighted: "0,6",
    todayHighlight: true,
    startDate: "{{date}}",
    language: "{{lang}}"
  });
  $('#date-picker-div').on('changeDate', function() {
    $('#form-date').val(
        $('#date-picker-div').datepicker('getUTCDate').toISOString().substring(0, 10)
    );
});
 </script>
</body>
{% endblock %}
